---
- name: Create folder tree structure
  hosts: localhost
  tasks:
    - name: Create folders in the operating system
      ansible.builtin.file:
        path: "{{ item.path }}"
        state: directory
        mode: "{{ item.mode | default('0755') }}"
        owner: "{{ item.owner | default('root') }}"
        group: "{{ item.group | default('root') }}"
      loop:
        - path: /Users/{{ lookup('env', 'USER') }}/Documents/Projects
          owner: "{{ lookup('env', 'USER') }}"
          group: "{{ lookup('env', 'USER') }}"
        - path: /Users/{{ lookup('env', 'USER') }}/Documents/Rapports
          owner: "{{ lookup('env', 'USER') }}"
          group: "{{ lookup('env', 'USER') }}"
        - path: /Users/{{ lookup('env', 'USER') }}/Documents/RunJS
          owner: "{{ lookup('env', 'USER') }}"
          group: "{{ lookup('env', 'USER') }}"
        - path: "/Users/{{ lookup('env', 'USER') }}/Pictures/Screenshots"
          owner: "{{ lookup('env', 'USER') }}"
          group: "{{ lookup('env', 'USER') }}"
